fotoBtn.addEventListener('click', () => {
  const videoWidth = video.videoWidth;
  const videoHeight = video.videoHeight;

  // Samakan ukuran hasil foto dengan ukuran video asli
  const tempCanvas = document.createElement('canvas');
  tempCanvas.width = videoWidth;
  tempCanvas.height = videoHeight;

  const tempCtx = tempCanvas.getContext('2d');

  // Mirror kamera
  tempCtx.translate(videoWidth, 0);
  tempCtx.scale(-1, 1);

  // Gambar dari video
  tempCtx.drawImage(video, 0, 0, videoWidth, videoHeight);

  // Balik transformasi
  tempCtx.setTransform(1, 0, 0, 1, 0, 0);

  // Gambar efek lipstick dari overlay (harus disesuaikan ukurannya juga)
  tempCtx.drawImage(canvas, 0, 0, videoWidth, videoHeight);

  // Simpan hasil gambar
  const dataURL = tempCanvas.toDataURL("image/png");
  downloadLink.href = dataURL;
  downloadLink.click();
});
